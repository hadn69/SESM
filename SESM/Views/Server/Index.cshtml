@{
    ViewBag.Title = "Servers";
}
<script src="/assets/global/plugins/select2/select2.min.js" type="text/javascript"></script>
<script src="/assets/global/plugins/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js" type="text/javascript"></script>
<div class="portlet light bordered">
    <div class="portlet-body">
        <div class="table-toolbar">
            <div class="row">
                <div class="col-md-6">
                    <div class="btn-group">
                        <button id="btnCreateServer" class="btn green">
                            New <i class="fa fa-plus"></i>
                        </button>
                        <button id="btnRefreshList" class="btn blue">
                            Refresh <i class="fa fa-refresh"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="btn-group pull-right">
                        <button id="btnCreateServer" class="btn green">
                            Start <i class="fa fa-plus"></i>
                        </button>
                        <button id="btnCreateServer" class="btn purple">
                            Stop <i class="fa fa-plus"></i>
                        </button>
                        <button id="btnCreateServer" class="btn yellow">
                            Restart <i class="fa fa-plus"></i>
                        </button>
                        <button id="btnCreateServer" class="btn red">
                            Kill <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <table class="table table-striped table-bordered table-hover" id="serverTable">
            <thead>
                <tr>
                    <th class="table-checkbox">
                        <input type="checkbox" class="group-checkable" data-set="#serverTable .checkboxes" />
                    </th>
                    <th>
                        Name
                    </th>
                    <th>
                        Status
                    </th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
<script type="text/javascript">
    function initPage() {
        var table = $('#serverTable');

        table.dataTable({
            "language": {
                "aria": {
                    "sortAscending": ": activate to sort column ascending",
                    "sortDescending": ": activate to sort column descending"
                },
                "emptyTable": "No data available in table",
                "info": "Showing _START_ to _END_ of _TOTAL_ entries",
                "infoEmpty": "No entries found",
                "infoFiltered": "(filtered1 from _MAX_ total entries)",
                "lengthMenu": "Show _MENU_ entries",
                "search": "Search:",
                "zeroRecords": "No matching records found",
                "paginate": {
                    "previous": "Prev",
                    "next": "Next",
                    "last": "Last",
                    "first": "First"
                }
            },

            "bStateSave": true, // save datatable state(pagination, sort, etc) in cookie.

            "columns": [{
                "orderable": true
            }, {
                "orderable": true
            }, {
                "orderable": true
            }],
            "lengthMenu": [
                [5, 10, 15, 20, -1],
                [5, 10, 15, 20, "All"] // change per page values here
            ],
            // set the initial value
            "pageLength": 10,
            "pagingType": "bootstrap_full_number",
            "columnDefs": [{
                "searchable": false,
                "targets": [0]
            }],
            "order": [[1, "asc"]] // set first column as a default sort by asc
        });

        table.find('.group-checkable').change(function () {
            var set = jQuery(this).attr("data-set");
            var checked = jQuery(this).is(":checked");
            jQuery(set).each(function () {
                if (checked) {
                    $(this).attr("checked", true);
                    $(this).parents('tr').addClass("active");
                } else {
                    $(this).attr("checked", false);
                    $(this).parents('tr').removeClass("active");
                }
            });
            jQuery.uniform.update(set);
        });

        table.on('change', 'tbody tr .checkboxes', function () {
            $(this).parents('tr').toggleClass("active");
        });

        $(".dataTables_filter").addClass("pull-right");
        function refereshList()
        {
            $.post("/API/Server/GetServers",
            {},
            function (data, status) {
                if (status != "success") {
                    $("#RegisterErrorText").html("Error Occured (see console for more infos).");
                    $('#RegisterError').show();
                    Console.warn("Fatal Error : ");
                    Console.warn("Status : " + status);
                    Console.warn("Data : " + data);
                    return;
                }

                var xmlDoc = $.parseXML(data);
                var xmlObj = $(xmlDoc);
                var root = xmlObj.find("Response");

                if (root.children("Type").text() == "Error") {
                    $("#RegisterErrorText").html(root.children("Content").text());
                    $('#RegisterError').show();
                    return;
                }

                $("tbody").empty();
                root.children("Content").children("Server").each(function(index) {
                    var item = $(this);


                    <tr class="odd gradeX">
                        <td>
                            <input type="checkbox" class="checkboxes" value="1" />
                        </td>
                        <td>
                            shuxer
                        </td>
                        <td>
                            <span class="label label-sm label-success">
                                Approved
                            </span>
                        </td>
                    </tr>
                });
            });
        }
    }
</script>